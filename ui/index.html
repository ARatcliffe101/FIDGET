<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FIDGET - Financial Invoice, Deal & Job Engagement Tracker</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header id="app-header">
    <div class="title-block">
      <img src="assets/FIDGET.png" alt="FIDGET logo" class="app-logo" />
      <div class="title-text">
        <div class="app-title">FIDGET</div>
        <div class="app-subtitle">Financial Invoice, Deal &amp; Job Engagement Tracker</div>
      </div>
    </div>
    <div class="header-controls">
      <div id="root-path-label">Root: (not set)</div>
      <button id="btn-set-root">Set root folder…</button>
      <button id="btn-scan">Scan now</button>
      <button id="btn-save-all">Save all</button>
    </div>
  </header>

  <main id="main-layout">
    <section id="left-panel">
      <div id="tabs">
        <button class="tab active" data-tab="invoices">Invoices</button>
        <button class="tab" data-tab="jobs">Jobs</button>
        <button class="tab" data-tab="contracts">Contracts</button>
      </div>

      <div id="filters">
        <input id="search-box" type="text" placeholder="Search…" />
      </div>

      <div id="list-container">
        <div id="list-invoices" class="list active"></div>
        <div id="list-jobs" class="list"></div>
        <div id="list-contracts" class="list"></div>
      </div>
    </section>

    <section id="right-panel">
      <div id="detail-panel">
        <h2 id="detail-title">Details</h2>
        <form id="detail-form">
          <div id="detail-fields"></div>
          <div id="detail-validation"></div>
          <div id="detail-candidates"></div>
          <div class="detail-actions">
            <button type="button" id="btn-save">Save</button>
            <button type="button" id="btn-open-doc">Open document</button>
            <button type="button" id="btn-open-folder">Open folder</button>
          </div>
        </form>
      </div>

      <div id="preview-pane">
        <div id="preview-header">
          <div id="preview-filename">Preview</div>
        </div>
        <div id="preview-body">
          <div id="preview-loading" class="hidden">Loading…</div>
          <canvas id="preview-canvas" class="hidden"></canvas>
          <pre id="preview-text" class="hidden"></pre>
        </div>
      </div>
    </section>
  </main>

  <!-- Folder & year setup splash overlay -->
  <div id="setup-overlay" class="overlay hidden">
    <div class="overlay-dialog">
      <h2>Folder &amp; year setup</h2>
      <p>
        Create a standard folder structure for Invoices, Jobs and Contracts for a given year
        under your FIDGET root.
      </p>
      <label class="overlay-label">
        Year
        <input id="setup-year" type="number" min="2000" max="2100" />
      </label>
      <div class="overlay-actions">
        <button id="setup-create" type="button">Create folders</button>
        <button id="setup-close" type="button">Close</button>
      </div>
      <div id="setup-status"></div>
    </div>
  </div>

  <script src="../node_modules/pdfjs-dist/build/pdf.js"></script>
  <script src="renderer.js"></script>
</body>
</html>
